(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(5440)}])},5440:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return Y}});var n=r(5893),t=r(7294);let l=(0,t.createContext)({gameOptions:{itemsCount:2,itemsValueStart:1,direction:"ascending"},setGameOptions:e=>e,order_items:[{img:"./order_el-g1.png",value:1e3,ordered:!1},{img:"./order_el-g2.png",value:-10,ordered:!1},{img:"./order_el-g3.png",value:0,ordered:!1},{img:"./order_el-g4.png",value:45,ordered:!1}],setOrder_items:e=>e,order_items_sort:[],setOrder_items_sort:e=>e,dragEl:"",setDragEl:e=>e,gameEnd:{showGameEnd:!1,status:"win"},setGameEnd:e=>e,showModal:!0,setShowModal:e=>e,countMarks:[{value:2,label:2},{value:3,label:3},{value:4,label:4},{value:5,label:5}],valueMarks:[{value:1,label:"A"},{value:2,label:"9"},{value:3,label:"19"},{value:4,label:"50"},{value:5,label:"99"},{value:6,label:"999"}]}),s=()=>(0,t.useContext)(l);var o=r(7297),i=r(8428),d=r(7417),_=r(7054),c=r(5390),u=r(5084),m=r(6196),g=r.n(m);let p=e=>{let{closeModal:a}=e,{countMarks:r}=s(),{valueMarks:l}=s(),{gameOptions:o,setGameOptions:m}=s(),{setOrder_items:p,setOrder_items_sort:h}=s(),[v,x]=(0,t.useState)("ascending"),[b,j]=(0,t.useState)(o),f=(e,a)=>{console.log(a),b.direction=a,x(a),j(b)},N=(e,a,r)=>{b.itemsCount=a,j(b)},O=(e,a,r)=>{console.log(e,a),b.itemsValueStart=a,j(b)},w=()=>{let e;m(b);let a=[],r=Array.isArray(o.itemsValueStart)?o.itemsValueStart[0]:o.itemsValueStart;console.log(r);let n=1;switch(r){case 1:n=1;break;case 2:n=9;break;case 3:n=19;break;case 4:n=55;break;case 5:n=99;break;case 6:n=999}console.log(n);let t=new Set,l=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],s=1==n?"A":Math.floor(Math.random()*(n-0+1)+0);for(;t.size<o.itemsCount;)s=1==n?l[Math.floor(Math.random()*l.length)]:Math.floor(Math.random()*(n-0+1)+0),t.add(s);let i=[];i=Array.from(t);for(let d=0;d<o.itemsCount;d++){console.log(d);let _="order_el-g".concat(d+1,".png");a.push({img:_,value:i[d],ordered:!1})}e="ascending"==o.direction?[...a].sort((e,a)=>e.value>a.value?1:-1):[...a].sort((e,a)=>e.value<a.value?1:-1),p(a),h(e)};return(0,n.jsx)("div",{className:g().gameOptions,children:(0,n.jsxs)("div",{className:g().gameOptions__inner,children:[(0,n.jsxs)(d.Z,{className:g().optionRange,children:[(0,n.jsx)("h2",{children:"Кол-во элеметов"}),(0,n.jsx)(i.ZP,{sx:{width:360},"aria-label":"Кол-во элеметов",defaultValue:2,step:null,min:2,max:5,valueLabelDisplay:"auto",marks:r,onChange:N})]}),(0,n.jsxs)(d.Z,{className:g().optionRange,children:[(0,n.jsx)("h2",{children:"Значения"}),(0,n.jsx)(i.ZP,{sx:{width:530},"aria-label":"Значения",defaultValue:1,step:null,min:1,max:6,valueLabelDisplay:"auto",marks:l,onChange:O})]}),(0,n.jsx)(d.Z,{children:(0,n.jsxs)(c.Z,{color:"primary",value:o.direction,exclusive:!0,onChange:f,"aria-label":"Platform",className:g().buttonsGroup,children:[(0,n.jsx)(_.Z,{value:"ascending",children:" По возростанию"}),(0,n.jsx)(_.Z,{value:"descending",children:"По убыванию"})]})}),(0,n.jsx)(d.Z,{onClick:w,children:(0,n.jsx)(u.Z,{variant:"contained",onClick:a,className:g().optionGame__play,children:"Играть"})})]})})};var h=r(1634),v=r(4578),x=r.n(v),b=r(9153),j=r(3786);function f(){let e=(0,o.Z)(["\n  color: turquoise;\n  height: 100%;\n  background: url(./gameOption_overlay.jpg) center/cover no-repeat;\n"]);return f=function(){return e},e}let N={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:690,bgcolor:"transparent",borderRadius:"40px",p:0},O=(0,b.Z)({root:{borderRadius:3},label:{color:"red"}}),w=j.Z.section(f()),D=e=>{let{}=e,{showModal:a,setShowModal:r}=s(),[l,o]=(0,t.useState)(!0),i=()=>{o(!1),r(!1)};return O(),(0,n.jsx)(h.Z,{open:l,onClose:i,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",className:x().modal,children:(0,n.jsx)(w,{children:(0,n.jsx)(d.Z,{sx:N,children:(0,n.jsx)(p,{closeModal:i})})})})};var I=r(5675),G=r.n(I),S=r(4636),E=r.n(S);let P=()=>{let{showModal:e,setShowModal:a,gameEnd:r,setGameEnd:l}=s(),[o,i]=(0,t.useState)(!0),d=e=>{a(!0),r.showGameEnd=!1,l(r)};return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:E().gameWin_bg,children:(0,n.jsx)(G(),{src:"/gameEnd-bg.png",alt:"Win",width:853,height:560})}),(0,n.jsxs)("h4",{className:E().gameWin__inner,children:[(0,n.jsx)(G(),{src:"/win.png",alt:"Победа",width:250,height:80}),(0,n.jsxs)("p",{className:E().gameWin__txt,children:["Молодец! Ты успешно ",(0,n.jsx)("br",{}),"справился с заданием!"]}),(0,n.jsx)(u.Z,{variant:"contained",color:"secondary",onClick:d,children:"Заного"})]})]})},C={position:"absolute",top:"calc(50% - 50px)",left:"calc(50% - 50px)",transform:"translate(-50%, -50%)",width:"830px",height:"530px",p:4},Z=e=>{let{}=e,{showModal:a,setShowModal:r,gameEnd:l,setGameEnd:o}=s(),[i,_]=(0,t.useState)(!0),c=()=>_(!1);return(0,n.jsx)(h.Z,{open:l.showGameEnd=!0,onClose:c,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,n.jsx)(d.Z,{sx:C,children:"win"==l.status?(0,n.jsx)(P,{}):null})})};var k=r(7160),y=r.n(k),W=r(311),M=r.n(W);let A=e=>{let{orderItem:a}=e,{order_items:r,setOrder_items:t,dragEl:l,gameOptions:o,setGameOptions:i,setGameEnd:d}=s(),{order_items_sort:_,setOrder_items_sort:c}=s(),u=e=>{},m=e=>{},g=e=>{e.preventDefault()},p=e=>{e.preventDefault()},h=e=>{let a=e.currentTarget.getAttribute("data-id");if(console.log(e,l,a,r),a==l){r.forEach(e=>{e.value==a&&(e.ordered=!0)}),_.forEach(e=>{e.value==a&&(e.ordered=!0)}),t(r);let n=r.reduce((e,a)=>(!0==a.ordered&&(e+=1),e),0);r.length==n&&(d({showGameEnd:!0,status:"win"}),i({itemsCount:2,itemsValueStart:1,direction:"ascending"})),c("ascending"==o.direction?[...r].sort((e,a)=>e.value>a.value?1:-1):[...r].sort((e,a)=>e.value<a.value?1:-1))}};return a.ordered?null:(0,n.jsxs)("li",{"data-id":a.value,className:M().orderItem,draggable:!0,onDragStart:u,onDragOver:g,onDragLeave:m,onDragEnd:h,onDrop:p,children:[(0,n.jsx)(G(),{src:"/"+a.img,alt:a.value+"a",width:130,height:130}),(0,n.jsx)("span",{className:M().orderItem__value,children:a.value})]},a.value)};var H=r(5696),R=r.n(H);let V=e=>{let{}=e,{order_items:a}=s();return console.log(a),(0,n.jsx)("ul",{className:R().list+" "+R().orderItems,children:a.map((e,a)=>(0,n.jsx)(A,{orderItem:e},a))})};var L=r(6348),T=r.n(L);let Q=e=>{let{}=e,{order_items_sort:a,setOrder_items_sort:r,dragEl:t,setDragEl:l,gameOptions:o}=s(),{order_items:i}=s(),d=e=>{e.preventDefault()},_=e=>{e.preventDefault()},c=e=>{e.preventDefault()},u=e=>{e.preventDefault();let a=String(e.currentTarget.getAttribute("data-id"));l(a)};return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:T().orderDirection,children:"ascending"==o.direction?(0,n.jsxs)("p",{className:T().orderAscending,children:[(0,n.jsx)("span",{className:T().orderDirection__txt,children:"По возростанию"}),(0,n.jsx)(G(),{src:"/arrow-right.png",alt:"По возростанию",width:358,height:69})]}):(0,n.jsxs)("p",{className:T().orderDescending,children:[(0,n.jsx)("span",{className:T().orderDirection__txt,children:"По убыванию"}),(0,n.jsx)(G(),{src:"/arrow-right.png",alt:"По убыванию",width:358,height:69})]})}),(0,n.jsx)("div",{className:T().orderPanel,children:(0,n.jsx)("ul",{className:T().panelItems,children:a.map((e,a)=>(0,n.jsx)("li",{className:T().panelItem,draggable:!0,"data-id":e.value,onDragStart:d,onDragOver:c,onDragLeave:_,onDrop:u,children:e.ordered?(0,n.jsxs)("div",{className:T().panelItem__ordered,children:[(0,n.jsx)(G(),{src:"/"+e.img,alt:e.value+"a",width:130,height:130,className:T().panelItem__img}),(0,n.jsx)("span",{className:T().panelItem__value,children:e.value})]}):null},a))})})]})};var X=r(9050),K=r.n(X);let q=()=>{let{order_items_sort:e}=s();return(0,n.jsx)("main",{className:K().main,children:(0,n.jsxs)("div",{className:K().game__inner,children:[(0,n.jsx)(V,{}),(0,n.jsx)(Q,{panelItems:e})]})})},B={itemsCount:2,itemsValueStart:1,direction:"ascending"},J=[{value:2,label:2},{value:3,label:3},{value:4,label:4},{value:5,label:5}],F=[{value:1,label:"A"},{value:2,label:"9"},{value:3,label:"19"},{value:4,label:"50"},{value:5,label:"99"},{value:6,label:"999"}];function Y(){let[e,a]=(0,t.useState)(B),[r,s]=(0,t.useState)("0"),[o,i]=(0,t.useState)([]),[d,_]=(0,t.useState)([]),[c,u]=(0,t.useState)(!0),[m,g]=(0,t.useState)({showGameEnd:!1,status:"win"});return(0,n.jsxs)(l.Provider,{value:{gameOptions:e,setGameOptions:a,order_items:o,setOrder_items:i,order_items_sort:d,setOrder_items_sort:_,countMarks:J,valueMarks:F,dragEl:r,setDragEl:s,gameEnd:m,setGameEnd:g,showModal:c,setShowModal:u},children:[c,(0,n.jsxs)("div",{className:y().container,"data-f":r,children:[c?(0,n.jsx)(D,{}):null,!0==m.showGameEnd?(0,n.jsx)(Z,{}):null,(0,n.jsx)(q,{})]})]})}},7160:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",game__inner:"Home_game__inner__Zs9Wo",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}},9050:function(e){e.exports={container:"GameInner_container__W9RqL",main:"GameInner_main__Dvcu3",game__inner:"GameInner_game__inner__N7bB6"}},4636:function(e){e.exports={gameWin__inner:"GameWin_gameWin__inner__OjXBd",gameWin__txt:"GameWin_gameWin__txt__ZTNrx"}},311:function(e){e.exports={orderItem:"OrderItem_orderItem__t2W4H",orderItem__value:"OrderItem_orderItem__value__wnpHP"}},5696:function(e){e.exports={list:"OrderItems_list__3fSpA"}},6348:function(e){e.exports={orderPanel:"OrderPanel_orderPanel__KpW25",panelItems:"OrderPanel_panelItems__v76fx",panelItem:"OrderPanel_panelItem__PmRh3",panelItem__ordered:"OrderPanel_panelItem__ordered__QE5V6",panelItem__value:"OrderPanel_panelItem__value__TXCWn",orderDirection:"OrderPanel_orderDirection__8yZxe",orderDirection__txt:"OrderPanel_orderDirection__txt__diK4F",orderAscending:"OrderPanel_orderAscending__3_PoE",orderDescending:"OrderPanel_orderDescending__RIel9"}},6196:function(e){e.exports={gameOptions:"GameOptions_gameOptions__btyNc",gameOptions__inner:"GameOptions_gameOptions__inner__Cy_Wq",optionRange:"GameOptions_optionRange__JwNhv",buttonsGroup:"GameOptions_buttonsGroup__rmlQL","Mui-selected":"GameOptions_Mui-selected__dnb9J",optionGame__play:"GameOptions_optionGame__play___V7R_"}},4578:function(){}},function(e){e.O(0,[367,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);